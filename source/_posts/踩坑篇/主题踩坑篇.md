---
title: 前端到处是坑坑！
sticky: true
---
# hexo代码块样式调整 1



> `问题描述`
>
> - 代码显示在代码的头部，代码块body部分是空白的。
> - 代码块前面的三个不同颜色的小点被遮挡。
> - 代码块区域放大以后不能点返回箭头，否则页面卡住，必须刷新页面才能继续浏览。
> - 代码块的行号从头部开始显示。
>
> `解决方法`
>
> 1. 前四个问题我找了一天的答案，总是有瑕疵，终于，第二天中午的时候，我找到了，原来是主题配置的问题，我用的是hexo中的shoka主题。主题配置里面有提到。**停用默认代码高亮功能，否则代码块的 mac 样式不能正常显示**。找到`highlight`和`prismjs`把`enable`改成`false`
>
> 2. 以下是我的代码：
>
>    ```yaml
>    highlight:
>      enable: false # 主题配置需要停用
>      auto_detect: true # 代码块高亮
>      line_number: true
>      tab_replace: ''
>      wrap: true
>      hljs: false
>      
>    prismjs:
>      enable: false # 主题配置需要停用
>      preprocess: true
>      line_number: true
>      tab_replace: ''
>    ```
>
>    

# hexo代码块样式调整 2

> `问题描述`
>
> - 代码块自动换行
> - 代码块前后有空白行问题
>
> `解决方法`
>
> 1. 找到`hexo-util/lib/highlight.js`文件，一般路径为`root/node_modules/hexo-util/lib/highlight.js`
>
> 2. 修改`highlight.js`中的代码，有些在`35~38`行处，有些在`91`行处，各有不同。
>
> 3. `修改前`
>
>    ```yaml
>    numbers += '<div class="line">' + (firstLine + i) + '</div>';
>    content += '<div class="line';
>    content += (mark.indexOf(firstLine + i) !== -1) ? ' marked' : '';
>    content += '">' + line + '</div>';
>    ```
>
> 4. `修改后`
>
>    ```yaml
>    numbers += '<span class="line">' + (firstLine + i) + '</span>\n';
>    content += '<span class="line';
>    content += (mark.indexOf(firstLine + i) !== -1) ? ' marked' : '';
>    content += '">' + line + '</span>\n';
>    
>    ```
>
>    
>
> 5. 总结：把里面的`div`标签换成`span`标签
>
>    

# 在Hexo插入本地图片

> `问题描述`
>
> - 图片显示不成功
> - 页面没反应，或者显示图片的地方只显示`alt`里面的类容
> - 或者成功以后打印出`no src attr, skipped...`这类似的代码
>
> `解决方法`
>
> 1. 首先我们需要安装一个插件
>
>    ```yaml
>    npm install https://github.com/CodeFalling/hexo-asset-image --save
>    ```
>
>    